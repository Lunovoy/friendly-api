import{r as n}from"./index-DP60Imk7.js";import{L as a,l as x}from"./import-CewOev11.js";const y=n.createContext(null),m=t=>!t.isLayoutDirty&&t.willUpdate(!1);function l(){const t=new Set,o=new WeakMap,r=()=>t.forEach(m);return{add:e=>{t.add(e),o.set(e,e.addEventListener("willUpdate",r))},remove:e=>{t.delete(e);const u=o.get(e);u&&(u(),o.delete(e)),r()},dirty:r}}const p=t=>t===!0,C=t=>p(t===!0)||t==="id",v=({children:t,id:o,inherit:r=!0})=>{const e=n.useContext(a),u=n.useContext(y),[d,i]=x(),s=n.useRef(null),c=e.id||u;s.current===null&&(C(r)&&c&&(o=o?c+"-"+o:c),s.current={id:o,group:p(r)&&e.group||l()});const f=n.useMemo(()=>({...s.current,forceRender:d}),[i]);return n.createElement(a.Provider,{value:f},t)};export{v as L};
