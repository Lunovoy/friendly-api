import{u as xe,r as v,y as Ke,h as V,m as z,j as e,A as qe,x as he,c as ve,z as Te,B as be,b as L,C as ne,D as Qe,E as Ye,g as ge,F as re,G as Je,f as Xe,i as w,k as je,o as Q,U as Y,p as $e,q as Pe,s as _e,v as A,w as R}from"./index-DP60Imk7.js";import{A as ie,I as le,i as q,F as ye,a as Ze,u as de}from"./FriendsList-BuS_v7NP.js";import{g as es,m as ce,u as ss,a as ts,b as as}from"./index-BIpLXF90.js";import{$ as os,s as T}from"./chunk-26CMBM6O-BGC_v7OB.js";import{L as J,O as Ne,u as X,m as Z,a as Fe}from"./Ok-wZ75vpX4.js";import{u as ns,r as rs,d as is,P as ls,m as ee,a as se,b as Ce}from"./Plus-B5T_dcOR.js";import{$ as ds,d as cs,e as us,b as ps}from"./import-CewOev11.js";import{$ as fs}from"./import-BTqYmg3m.js";import"./useTranslation-DRoIjre2.js";function ms(s){const t=Object.assign({},s);for(let a in t)t[a]===void 0&&delete t[a];return t}function xs(s={}){const{as:t,ref:a,max:n=5,total:l,size:o,color:d,radius:i,children:r,isBordered:m,isDisabled:x,isGrid:f,renderCount:u,className:$,...p}=s,y=xe(a),g=t||"div",c=v.useMemo(()=>({size:o,color:d,radius:i,isGrid:f,isBordered:m,isDisabled:x}),[o,d,i,f,m,x]),h=v.useMemo(()=>Ke({className:$,isGrid:f}),[$,f]),P=es(r),b=n?P.slice(0,n):P,j=l||(n!=null?P.length-n:-1),N=b.map((C,F)=>{const _=F===0,M=F===b.length-1,O={className:V(_?"ms-0":f?"":"-ms-2",M&&j<1?"hover:-translate-x-0":"")};return v.cloneElement(C,ms(O))});return{Component:g,context:c,remainingCount:j,clones:N,renderCount:u,getAvatarGroupProps:()=>({ref:y,className:h,role:"group",...p})}}var Se=z((s,t)=>{const{Component:a,clones:n,context:l,remainingCount:o,renderCount:d=r=>e.jsx(he,{className:"hover:-translate-x-0",name:`+${r}`}),getAvatarGroupProps:i}=xs({...s,ref:t});return e.jsx(a,{...i(),children:e.jsxs(qe,{value:l,children:[n,o>0&&d(o)]})})});Se.displayName="NextUI.AvatarGroup";var hs=Se;function vs(s){const{isSelected:t,disableAnimation:a,...n}=s;return e.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...n,children:e.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:a?{}:{transition:"stroke-dashoffset 200ms ease"}})})}const te=new WeakMap;function bs(s){return typeof s=="string"?s.replace(/\s*/g,""):""+s}function gs(s,t){let a=te.get(s);if(!a)throw new Error("Unknown list");return`${a.id}-option-${bs(t)}`}function js(s,t,a){let n=ve(s,{labelable:!0}),l=s.selectionBehavior||"toggle",o=s.linkBehavior||(l==="replace"?"action":"override");l==="toggle"&&o==="action"&&(o="override");let{listProps:d}=ds({...s,ref:a,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,linkBehavior:o}),{focusWithinProps:i}=Te({onFocusWithin:s.onFocus,onBlurWithin:s.onBlur,onFocusWithinChange:s.onFocusChange}),r=be(s.id);te.set(t,{id:r,shouldUseVirtualFocus:s.shouldUseVirtualFocus,shouldSelectOnPressUp:s.shouldSelectOnPressUp,shouldFocusOnHover:s.shouldFocusOnHover,isVirtualized:s.isVirtualized,onAction:s.onAction,linkBehavior:o});let{labelProps:m,fieldProps:x}=os({...s,id:r,labelElementType:"span"});return{labelProps:m,listBoxProps:L(n,i,t.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...L(x,d)})}}function $s(s,t,a){var n;let{key:l}=s,o=te.get(t);var d;let i=(d=s.isDisabled)!==null&&d!==void 0?d:t.disabledKeys.has(l);var r;let m=(r=s.isSelected)!==null&&r!==void 0?r:t.selectionManager.isSelected(l);var x;let f=(x=s.shouldSelectOnPressUp)!==null&&x!==void 0?x:o==null?void 0:o.shouldSelectOnPressUp;var u;let $=(u=s.shouldFocusOnHover)!==null&&u!==void 0?u:o==null?void 0:o.shouldFocusOnHover;var p;let y=(p=s.shouldUseVirtualFocus)!==null&&p!==void 0?p:o==null?void 0:o.shouldUseVirtualFocus;var g;let c=(g=s.isVirtualized)!==null&&g!==void 0?g:o==null?void 0:o.isVirtualized,h=ne(),P=ne(),b={role:"option","aria-disabled":i||void 0,"aria-selected":t.selectionManager.selectionMode!=="none"?m:void 0};Qe()&&Ye()||(b["aria-label"]=s["aria-label"],b["aria-labelledby"]=h,b["aria-describedby"]=P);let j=t.collection.getItem(l);if(c){let k=Number(j==null?void 0:j.index);b["aria-posinset"]=Number.isNaN(k)?void 0:k+1,b["aria-setsize"]=cs(t.collection)}let{itemProps:N,isPressed:G,isFocused:C,hasAction:F,allowsSelection:_}=us({selectionManager:t.selectionManager,key:l,ref:a,shouldSelectOnPressUp:f,allowsDifferentPressOrigin:f&&$,isVirtualized:c,shouldUseVirtualFocus:y,isDisabled:i,onAction:o!=null&&o.onAction?()=>{var k;return o==null||(k=o.onAction)===null||k===void 0?void 0:k.call(o,l)}:void 0,linkBehavior:o==null?void 0:o.linkBehavior}),{hoverProps:M}=ge({isDisabled:i||!$,onHoverStart(){re()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(l))}}),O=ve(j==null?void 0:j.props,{isLink:!!(!(j==null||(n=j.props)===null||n===void 0)&&n.href)});return delete O.id,{optionProps:{...b,...L(O,N,M),id:gs(t,l)},labelProps:{id:h},descriptionProps:{id:P},isFocused:C,isFocusVisible:C&&re(),isSelected:m,isDisabled:i,isPressed:G,allowsSelection:_,hasAction:F}}function Ps(s){let{heading:t,"aria-label":a}=s,n=be();return{itemProps:{role:"presentation"},headingProps:t?{id:n,role:"presentation"}:{},groupProps:{role:"group","aria-label":a,"aria-labelledby":t?n:void 0}}}function _s(s){const[t,a]=Je(s,ce.variantKeys),{as:n,item:l,state:o,description:d,startContent:i,endContent:r,isVirtualized:m,selectedIcon:x,className:f,classNames:u,autoFocus:$,onPress:p,onClick:y,shouldHighlightOnFocus:g,hideSelectedIcon:c=!1,isReadOnly:h=!1,...P}=t,b=s.disableAnimation,j=v.useRef(null),N=n||(s.href?"a":"li"),G=typeof N=="string",{rendered:C,key:F}=l,_=o.disabledKeys.has(F)||s.isDisabled,M=o.selectionManager.selectionMode!=="none",O=ss(),{pressProps:k,isPressed:H}=ns({ref:j,isDisabled:_,onPress:p}),{isHovered:I,hoverProps:Ie}=ge({isDisabled:_}),{isFocusVisible:Ge,focusProps:Me}=Xe({autoFocus:$}),{isFocused:W,isSelected:oe,optionProps:Oe,labelProps:De,descriptionProps:Ee}=$s({key:F,isDisabled:_,"aria-label":t["aria-label"],isVirtualized:m},o,j);let K=Oe;const D=v.useMemo(()=>ce({...a,isDisabled:_,disableAnimation:b}),[...Object.values(a),_,b]),Be=V(u==null?void 0:u.base,f);h&&(K=rs(K));const Ve=v.useMemo(()=>g&&W?!0:O?I||H:I,[I,H,W,O,g]),He=(S={})=>({ref:j,...L({onClick:y},K,h?{}:L(Me,k),Ie,je(P,{enabled:G}),S),"data-selectable":w(M),"data-focus":w(W),"data-hover":w(Ve),"data-disabled":w(_),"data-selected":w(oe),"data-pressed":w(H),"data-focus-visible":w(Ge),className:D.base({class:V(Be,S.className)})}),Ue=(S={})=>({...L(De,S),"data-label":w(!0),className:D.title({class:u==null?void 0:u.title})}),ze=(S={})=>({...L(Ee,S),className:D.description({class:u==null?void 0:u.description})}),Re=(S={})=>({...L(S),className:D.wrapper({class:u==null?void 0:u.wrapper})}),We=v.useCallback((S={})=>({"aria-hidden":w(!0),"data-disabled":w(_),className:D.selectedIcon({class:u==null?void 0:u.selectedIcon}),...S}),[_,D,u]);return{Component:N,domRef:j,slots:D,classNames:u,isSelectable:M,isSelected:oe,isDisabled:_,rendered:C,description:d,startContent:i,endContent:r,selectedIcon:x,hideSelectedIcon:c,disableAnimation:b,getItemProps:He,getLabelProps:Ue,getWrapperProps:Re,getDescriptionProps:ze,getSelectedIconProps:We}}var we=z((s,t)=>{const{Component:a,rendered:n,description:l,isSelectable:o,isSelected:d,isDisabled:i,selectedIcon:r,startContent:m,endContent:x,hideSelectedIcon:f,disableAnimation:u,getItemProps:$,getLabelProps:p,getWrapperProps:y,getDescriptionProps:g,getSelectedIconProps:c}=_s(s),h=v.useMemo(()=>{const P=e.jsx(vs,{disableAnimation:u,isSelected:d});return typeof r=="function"?r({icon:P,isSelected:d,isDisabled:i}):r||P},[r,d,i,u]);return e.jsxs(a,{...$(),children:[m,l?e.jsxs("div",{...y(),children:[e.jsx("span",{...p(),children:n}),e.jsx("span",{...g(),children:l})]}):e.jsx("span",{...p(),children:n}),o&&!f&&e.jsx("span",{...c(),children:h}),x]})});we.displayName="NextUI.ListboxItem";var Le=we,Ae=z(({item:s,state:t,as:a,variant:n,color:l,disableAnimation:o,className:d,classNames:i,hideSelectedIcon:r,showDivider:m=!1,dividerProps:x={},itemClasses:f,title:u,...$},p)=>{const y=a||"li",g=v.useMemo(()=>ts(),[]),c=V(i==null?void 0:i.base,d),h=V(i==null?void 0:i.divider,x==null?void 0:x.className),{itemProps:P,headingProps:b,groupProps:j}=Ps({heading:s.rendered,"aria-label":s["aria-label"]});return e.jsxs(y,{"data-slot":"base",...L(P,$),className:g.base({class:c}),children:[s.rendered&&e.jsx("span",{...b,className:g.heading({class:i==null?void 0:i.heading}),"data-slot":"heading",children:s.rendered}),e.jsxs("ul",{...j,className:g.group({class:i==null?void 0:i.group}),"data-has-title":!!s.rendered,"data-slot":"group",children:[[...s.childNodes].map(N=>{const{key:G,props:C}=N;let F=e.jsx(Le,{classNames:f,color:l,disableAnimation:o,hideSelectedIcon:r,item:N,state:t,variant:n,...C},G);return N.wrapper&&(F=N.wrapper(F)),F}),m&&e.jsx(is,{as:"li",className:g.divider({class:h}),...x})]})]},s.key)});Ae.displayName="NextUI.ListboxSection";var ys=Ae;function Ns(s){const{ref:t,as:a,state:n,variant:l,color:o,onAction:d,children:i,onSelectionChange:r,disableAnimation:m,itemClasses:x,className:f,topContent:u,bottomContent:$,emptyContent:p="No items.",hideSelectedIcon:y=!1,hideEmptyContent:g=!1,shouldHighlightOnFocus:c=!1,classNames:h,...P}=s,b=a||"ul",j=typeof b=="string",N=xe(t),G=fs({...s,children:i,onSelectionChange:r}),C=n||G,{listBoxProps:F}=js({...s,onAction:d},C,N),_=v.useMemo(()=>as({className:f}),[,f]),M=V(h==null?void 0:h.base,f);return{Component:b,state:C,variant:l,color:o,slots:_,classNames:h,topContent:u,bottomContent:$,emptyContent:p,hideEmptyContent:g,shouldHighlightOnFocus:c,hideSelectedIcon:y,disableAnimation:m,className:f,itemClasses:x,getBaseProps:(I={})=>({ref:N,"data-slot":"base",className:_.base({class:M}),...je(P,{enabled:j}),...I}),getListProps:(I={})=>({"data-slot":"list",className:_.list({class:h==null?void 0:h.list}),...F,...I}),getEmptyContentProps:(I={})=>({"data-slot":"empty-content",children:p,className:_.emptyContent({class:h==null?void 0:h.emptyContent}),...I})}}function ae(s,t){const{Component:a,state:n,color:l,variant:o,itemClasses:d,getBaseProps:i,topContent:r,bottomContent:m,hideEmptyContent:x,hideSelectedIcon:f,shouldHighlightOnFocus:u,disableAnimation:$,getEmptyContentProps:p,getListProps:y}=Ns({...s,ref:t}),g=e.jsxs(a,{...y(),children:[!n.collection.size&&!x&&e.jsx("li",{children:e.jsx("div",{...p()})}),[...n.collection].map(c=>{var h;const P={color:l,item:c,state:n,variant:o,disableAnimation:$,hideSelectedIcon:f,...c.props};if(c.type==="section")return e.jsx(ys,{...P,itemClasses:d},c.key);let b=e.jsx(Le,{...P,classNames:L(d,(h=c.props)==null?void 0:h.classNames),shouldHighlightOnFocus:u},c.key);return c.wrapper&&(b=c.wrapper(b)),b})]});return e.jsxs("div",{...i(),children:[r,g,m]})}ae.displayName="NextUI.Listbox";var Fs=z(ae);ae.displayName="NextUI.Listbox";var Cs=ps,Ss=Cs;const ws={getGroup:async()=>await Q("/friendlist/friend",{headers:{Authorization:`Bearer ${localStorage.getItem(Y)}`}})},B=$e()(Pe(_e(s=>({groups:[],isLoading:!1,isError:!1,getGroup:async()=>{try{s(a=>({isLoading:!0,isEror:!1}));const t=await ws.getGroup();t.data.data?s(a=>({groups:t.data.data,isLoading:!1})):s(a=>({group:[],isLoading:!1}))}catch{s(a=>({isError:!0,isLoading:!1}))}}})))),Ls="_FriendCard_o5wq8_1",As="_avatar_o5wq8_5",ks="_person_o5wq8_9",Is="_name_o5wq8_12",Gs="_tags_o5wq8_15",E={FriendCard:Ls,avatar:As,person:ks,name:Is,tags:Gs},ue=({className:s="",group:t=void 0,isLoading:a=!1})=>a?e.jsxs("div",{className:A(E.FriendCard,{},[s]),children:[e.jsx(T,{className:E.avatar}),e.jsxs("div",{className:E.person,children:[e.jsx(T,{className:"w-[140px] h-[14px]"}),e.jsx(T,{className:"w-[200px] h-[10px]"})]})]}):e.jsxs("div",{className:A(E.FriendCard,{},[s]),children:[e.jsxs("div",{className:E.person,children:[e.jsx(ie,{size:"lg"}),e.jsx("h4",{className:E.name,children:t==null?void 0:t.friendlist.title})]}),e.jsx("div",{className:"flex items-center",children:(t==null?void 0:t.friends)!==null?e.jsx(hs,{isBordered:!0,max:3,children:t==null?void 0:t.friends.map(n=>e.jsx(ie,{src:"https://i.pravatar.cc/150?u=a042581f4e29026024d"},n.id))}):null})]}),Ms="_inputContainer_11fap_1",U={inputContainer:Ms},Os=s=>{const{className:t,groups:a,isLoading:n,isError:l,inputValue:o,setPickGroup:d,onChange:i}=s;return n?e.jsxs("div",{className:U.loading,children:[e.jsx(le,{value:o,onChange:r=>i==null?void 0:i(r.currentTarget.value),isLoading:n}),e.jsx("div",{className:"max-h-[460px] overflow-y-auto rounded-[32px] bg-bgPrimary mt-[12px] py-[12px]",children:new Array(3).fill(0).map((r,m)=>e.jsx(ue,{isLoading:!0},m))})]}):l?e.jsx("div",{className:A(U.FriendList,{},[t]),children:e.jsx("div",{className:`${U.inputContainer} flex py-[24px] bg-bgPrimary _container rounded-[32px] gap-[8px]`,children:"Возникла ошибка. Повторите попытку"})}):e.jsxs("div",{className:A(U.FriendList,{},[t]),children:[e.jsx(le,{value:o,onChange:r=>i==null?void 0:i(r.currentTarget.value)}),e.jsx("div",{className:"max-h-[460px] overflow-y-auto rounded-[32px] bg-bgPrimary mt-[12px] py-[12px] _container",children:a!=null&&a.length?a.map(r=>e.jsx("div",{onClick:()=>d==null?void 0:d(r.friendlist.id),children:e.jsx(ue,{group:r})},r.friendlist.id)):e.jsx("span",{children:"Список пуст"})})]})},Ds={newGroup:async(s,t)=>await Q.post("/friendlist",{title:s,description:t},{headers:{Authorization:`Bearer ${localStorage.getItem(Y)}`}})},Es=$e()(Pe(_e(s=>({isLoading:!1,isError:!1,addGroup:async(t,a)=>{try{s(l=>({isLoading:!0,isEror:!1}));const n=await Ds.newGroup(t,a);s(l=>({isLoading:!1}))}catch{s(l=>({isError:!0,isLoading:!1}))}}})))),Bs="_FriendHeader_auwty_1",Vs="_header_auwty_5",Hs="_inputsDiv_auwty_9",pe={FriendHeader:Bs,header:Vs,inputsDiv:Hs},Us=({groupTitle:s,setGroupTitle:t,onClose:a,addFriend:n,className:l})=>{const[o,d]=v.useState(""),i=r=>{d(r),r.split(" "),t({...s})};return e.jsxs("div",{className:A(pe.GroupHeader,{},[l,"_container"]),children:[e.jsxs("div",{className:pe.header,children:[e.jsx("img",{src:J,alt:"Назад",onClick:a}),e.jsx("h3",{className:"",children:"Создать группу"}),e.jsx("img",{src:Ne,alt:"Создать",onClick:n})]}),e.jsx("div",{className:""}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-[16px] md:gap-[20px] w-full",children:[e.jsx(q,{label:"Название",labelPlacement:"outside",placeholder:"Введите название",classNames:{label:"font-bold"},value:s.title,onChange:r=>t({...s,title:r.target.value})}),e.jsx(q,{label:"Описание",labelPlacement:"outside",placeholder:"Опишите группу",classNames:{label:"font-bold"},value:s.description,onChange:r=>t({...s,description:r.target.value})}),e.jsx(q,{label:"Теги",labelPlacement:"outside",placeholder:"Тэги через пробел",classNames:{label:"font-bold"},value:o,onChange:r=>i(r.target.value)})]})]})},zs="_button_yw6df_1",Rs={button:zs},Ws=s=>{const{groupTitle:t,setGroupTitle:a,addGroup:n}=s,{isOpen:l,onOpen:o,onClose:d}=X(),{width:i}=R(),r=v.useMemo(()=>i??0,[i]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex w-full justify-center fixed left-0 bottom-0 h-[60px]",children:e.jsx("button",{type:"button",onClick:o,className:Rs.button,children:e.jsx("img",{src:ls,alt:""})})}),e.jsx(ee,{size:r>=768?"5xl":"full",isOpen:l,onClose:d,hideCloseButton:r>=768,children:e.jsx(se,{children:m=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col overflow-y-scroll md:overflow-hidden pt-[12px]",children:e.jsx(Z,{className:"p-0",children:e.jsx(Us,{groupTitle:t,setGroupTitle:a,onClose:m,addFriend:n})})}),r>=768?e.jsx("div",{className:"flex justify-end _container pb-[10px] mt-[30px]",children:e.jsx(Ce,{color:"primary",startContent:e.jsx("img",{alt:"Картинка",src:Ne,className:"invert"}),onClick:n,children:"Сохранить"})}):null]})})})]})},Ks="_Friend_1xd5h_1",fe={Friend:Ks},qs="_FriendHeader_p5b4p_1",Ts="_header_p5b4p_5",Qs="_inputsDiv_p5b4p_9",me={FriendHeader:qs,header:Ts,inputsDiv:Qs},ke=({groupData:s,onClose:t,className:a})=>{const{width:n}=R();return v.useState(""),e.jsxs("div",{className:A(me.FriendHeader,{},[a,"_container"]),children:[e.jsx("div",{className:me.header,children:e.jsx("img",{src:J,alt:"Назад",onClick:t,className:"cursor-pointer"})}),e.jsxs("div",{className:"flex flex-col items-center md:flex-row gap-[8px]",children:[e.jsx(he,{className:`${n<=768?"h-[150px] w-[150px]":""}`}),e.jsx("div",{children:e.jsx("h3",{className:"mt-[16px] text-[18px] font-bold",children:s.title})})]})]})},Ys={},Js=({group:s,isOpen:t,onClose:a,className:n})=>e.jsx("div",{className:A(Ys.FriendModal,{},[n]),children:s?e.jsx(ee,{size:"full",isOpen:t,onClose:a,hideCloseButton:!0,children:e.jsx(se,{children:l=>e.jsxs("div",{className:"flex flex-col overflow-y-scroll",children:[e.jsx(Z,{className:"p-0",children:e.jsx(ke,{onClose:l,groupData:s.friendlist})}),e.jsx(Fe,{className:"px-0",children:e.jsx(ye,{friends:s.friends,className:""})})]})})}):e.jsx(e.Fragment,{})}),Xs={},Zs=({pickedFriends:s,setPickedFriends:t,friends:a,className:n})=>e.jsx("div",{className:A(Xs.AddFriendList,{},[n]),children:e.jsx(Fs,{variant:"flat",disallowEmptySelection:!0,selectionMode:"multiple",selectedKeys:s,onSelectionChange:t,children:a.map(l=>e.jsx(Ss,{textValue:l,children:e.jsx(Ze,{friend:l})},l.id))})}),et={},st=({friends:s,pickedFriend:t,setPickedFriend:a,addFriendModal:n,className:l})=>{const{isOpen:o,onOpen:d,onClose:i}=X(),{width:r}=R(),m=B(f=>f.getGroup),x=async()=>{await n(),i(),m()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center text-primary py-[10px] cursor-pointer",onClick:d,children:"Добавить друга"}),e.jsx(ee,{isOpen:o,placement:"top-center",onClose:i,size:r>=767?"3xl":"full",children:e.jsx(se,{children:f=>e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"flex flex-col gap-1",children:e.jsx("div",{className:et.header,children:e.jsx("img",{src:J,alt:"Назад",onClick:f,className:"cursor-pointer"})})}),e.jsxs(Fe,{children:[e.jsx(Zs,{friends:s,pickedFriends:t,setPickedFriends:a}),e.jsx(Ce,{onClick:x,children:"Отправить"})]})]})})})]})},tt={addFriendFriendlist:async(s,t)=>await Q.post(`/friendlist/${t}/friend`,{friend_id:s},{headers:{Authorization:`Bearer ${localStorage.getItem(Y)}`}})},at=({id:s,setId:t,className:a})=>{const{width:n}=R(),l=B(c=>c.groups),o=de(c=>c.friendList),d=de(c=>c.getFriends);v.useEffect(()=>{o.length||d()},[o,d]);const[i,r]=v.useState(null),{isOpen:m,onOpen:x,onClose:f}=X(),[u,$]=v.useState(new Set([])),p=v.useMemo(()=>Array.from(u),[u]);v.useEffect(()=>{r(null);const c=l==null?void 0:l.find(h=>h.friendlist.id===s);c&&(r(c),x())},[s,l,x]);const y=async()=>{try{const c=p.map(h=>tt.addFriendFriendlist(h,s));Promise.all(c)}catch(c){console.log(c)}},g=()=>{f(),setTimeout(()=>{r(null),t("")},300)};return i?n>=768?e.jsxs("div",{className:A(fe.Friend,{},[a,"no-scrollbar"]),children:[e.jsx(ke,{groupData:i.friendlist,onClose:f,className:"mb-[24px]"}),e.jsx(st,{pickedFriend:u,setPickedFriend:$,friends:o.map(c=>c.friend),addFriendModal:y}),e.jsx(ye,{friends:i.friends,className:"-mt-[23px]"})]}):e.jsx("div",{className:A(fe.Friend,{},[a]),children:e.jsx(Js,{group:i,isOpen:m,onClose:g})}):e.jsx(e.Fragment,{})},ft=()=>{const s=B(p=>p.groups),t=B(p=>p.isLoading),a=B(p=>p.isError),n=B(p=>p.getGroup),l=Es(p=>p.addGroup),[o,d]=v.useState(""),[i,r]=v.useState({id:"",title:"",description:"",tags:[]}),m=async()=>{try{await l(i.title,i.description),r({id:"",title:"",description:"",tags:[]}),n()}catch(p){console.log(p)}},[x,f]=v.useState([]),[u,$]=v.useState("");return v.useEffect(()=>{const p=s.filter(y=>`${y.friendlist.title}`.toLowerCase().includes(u.toLowerCase()));f(p)},[u,s]),v.useEffect(()=>{n()},[n]),e.jsxs("div",{className:"bg-bgPrimary rounded-[32px] mb-[12px] md:gap-[12px] md:grid md:grid-cols-7 md:bg-inherit h-full",children:[e.jsxs("div",{className:"col-span-4 colomn overflow-auto",children:[e.jsx(Os,{groups:x,isLoading:t,isError:a,setPickGroup:d,inputValue:u,onChange:$}),e.jsx(Ws,{groupTitle:i,setGroupTitle:r,addGroup:m,isError:a,isLoading:t})]}),e.jsx("div",{className:"col-span-3 colomn p-[24px] overflow-y-hidden",children:e.jsx(at,{id:o,setId:d})})]})};export{ft as default};
